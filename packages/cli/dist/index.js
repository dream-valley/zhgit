#!/usr/bin/env node
import t from"@zhihaoo/push";import e from"@zhihaoo/config";import r from"node:path";import n from"fs";import i from"constants";import o from"stream";import s from"util";import a from"assert";import c,{dirname as l}from"path";import{fileURLToPath as u}from"url";import h from"node:events";import p from"node:child_process";import f from"node:fs";import m from"node:process";var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y,E,w,v,O,S,_,$,b,A,C={},I={};function N(){return y||(y=1,I.fromCallback=function(t){return Object.defineProperty((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if("function"!=typeof r[r.length-1])return new Promise(((e,n)=>{r.push(((t,r)=>null!=t?n(t):e(r))),t.apply(this,r)}));t.apply(this,r)}),"name",{value:t.name})},I.fromPromise=function(t){return Object.defineProperty((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=r[r.length-1];if("function"!=typeof i)return t.apply(this,r);r.pop(),t.apply(this,r).then((t=>i(null,t)),i)}),"name",{value:t.name})}),I}function R(){if(w)return E;w=1;var t=i,e=process.cwd,r=null,n=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return r||(r=e.call(process)),r};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var o=process.chdir;process.chdir=function(t){r=null,o.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,o)}return E=function(e){t.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(r,n,i){e.open(r,t.O_WRONLY|t.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(r,n){var i,o=e.openSync(r,t.O_WRONLY|t.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(t){}else e.closeSync(o)}return i}}(e);e.lutimes||function(e){t.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(r,n,i,o){e.open(r,t.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(r,n,i){var o,s=e.openSync(r,t.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(t){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(t,e,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(t,e,r){r&&process.nextTick(r)},e.lchmodSync=function(){});e.chown&&!e.lchown&&(e.lchown=function(t,e,r,n){n&&process.nextTick(n)},e.lchownSync=function(){});"win32"===n&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,i){var o=Date.now(),s=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(n,(function(e,o){e&&"ENOENT"===e.code?t(r,n,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename));function r(t){return t?function(r,n,i){return t.call(e,r,n,(function(t){l(t)&&(t=null),i&&i.apply(this,arguments)}))}:t}function i(t){return t?function(r,n){try{return t.call(e,r,n)}catch(t){if(!l(t))throw t}}:t}function o(t){return t?function(r,n,i,o){return t.call(e,r,n,i,(function(t){l(t)&&(t=null),o&&o.apply(this,arguments)}))}:t}function s(t){return t?function(r,n,i){try{return t.call(e,r,n,i)}catch(t){if(!l(t))throw t}}:t}function a(t){return t?function(r,n,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?t.call(e,r,n,o):t.call(e,r,o)}:t}function c(t){return t?function(r,n){var i=n?t.call(e,r,n):t.call(e,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function l(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,i,o,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,h,p){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,i,o,s,c);a.apply(this,arguments)}}return t.call(e,r,n,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,r,n,i,o){for(var s=0;;)try{return u.call(e,t,r,n,i,o)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var u},E}function T(){if(b)return $;b=1;var t,e,r=n,i=R(),c=function(){if(O)return v;O=1;var t=o.Stream;return v=function(e){return{ReadStream:function r(n,i){if(!(this instanceof r))return new r(n,i);t.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function r(n,i){if(!(this instanceof r))return new r(n,i);t.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}},v}(),l=function(){if(_)return S;_=1,S=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(t){return t.__proto__};return S}(),u=s;function h(e,r){Object.defineProperty(e,t,{get:function(){return r}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(t=Symbol.for("graceful-fs.queue"),e=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",e="___graceful-fs.previous");var p,f=function(){};if(u.debuglog?f=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(f=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!r[t]){var m=d[t]||[];h(r,m),r.close=function(t){function n(e,n){return t.call(r,e,(function(t){t||E(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(n,e,{value:t}),n}(r.close),r.closeSync=function(t){function n(e){t.apply(r,arguments),E()}return Object.defineProperty(n,e,{value:t}),n}(r.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){f(r[t]),a.equal(r[t].length,0)}))}function g(t){i(t),t.gracefulify=g,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,n){"function"==typeof r&&(n=r,r=null);return function t(r,n,i,o){return e(r,n,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof i&&i.apply(this,arguments):y([t,[r,n,i],e,o||Date.now(),Date.now()])}))}(t,r,n)};var r=t.writeFile;t.writeFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o,s){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):y([t,[e,n,i,o],r,s||Date.now(),Date.now()])}))}(t,e,n,i)};var n=t.appendFile;n&&(t.appendFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o,s){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):y([t,[e,r,i,o],n,s||Date.now(),Date.now()])}))}(t,e,r,i)});var o=t.copyFile;o&&(t.copyFile=function(t,e,r,n){"function"==typeof r&&(n=r,r=0);return function t(e,r,n,i,s){return o(e,r,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):y([t,[e,r,n,i],o,s||Date.now(),Date.now()])}))}(t,e,r,n)});var s=t.readdir;t.readdir=function(t,e,r){"function"==typeof e&&(r=e,e=null);var n=a.test(process.version)?function(t,e,r,n){return s(t,i(t,e,r,n))}:function(t,e,r,n){return s(t,e,i(t,e,r,n))};return n(t,e,r);function i(t,e,r,i){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,o,s)):y([n,[t,e,r],o,i||Date.now(),Date.now()])}}};var a=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=c(t);m=l.ReadStream,d=l.WriteStream}var u=t.ReadStream;u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var t=this;w(t.path,t.flags,t.mode,(function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))});var h=t.WriteStream;h&&(d.prototype=Object.create(h.prototype),d.prototype.open=function(){var t=this;w(t.path,t.flags,t.mode,(function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return m},set:function(t){m=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var p=m;Object.defineProperty(t,"FileReadStream",{get:function(){return p},set:function(t){p=t},enumerable:!0,configurable:!0});var f=d;function m(t,e){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function d(t,e){return this instanceof d?(h.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var E=t.open;function w(t,e,r,n){return"function"==typeof r&&(n=r,r=null),function t(e,r,n,i,o){return E(e,r,n,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):y([t,[e,r,n,i],s,o||Date.now(),Date.now()])}))}(t,e,r,n)}return t.open=w,t}function y(e){f("ENQUEUE",e[0].name,e[1]),r[t].push(e),w()}function E(){for(var e=Date.now(),n=0;n<r[t].length;++n)r[t][n].length>2&&(r[t][n][3]=e,r[t][n][4]=e);w()}function w(){if(clearTimeout(p),p=void 0,0!==r[t].length){var e=r[t].shift(),n=e[0],i=e[1],o=e[2],s=e[3],a=e[4];if(void 0===s)f("RETRY",n.name,i),n.apply(null,i);else if(Date.now()-s>=6e4){f("TIMEOUT",n.name,i);var c=i.pop();"function"==typeof c&&c.call(null,o)}else{var l=Date.now()-a,u=Math.max(a-s,1);l>=Math.min(1.2*u,100)?(f("RETRY",n.name,i),n.apply(null,i.concat([s]))):r[t].push(e)}void 0===p&&(p=setTimeout(w,0))}}return d[t]||h(d,r[t]),$=g(l(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&($=g(r),r.__patched=!0),$}function k(){return A||(A=1,function(t){const e=N().fromCallback,r=T(),n=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof r[t]));Object.assign(t,r),n.forEach((n=>{t[n]=e(r[n])})),t.exists=function(t,e){return"function"==typeof e?r.exists(t,e):new Promise((e=>r.exists(t,e)))},t.read=function(t,e,n,i,o,s){return"function"==typeof s?r.read(t,e,n,i,o,s):new Promise(((s,a)=>{r.read(t,e,n,i,o,((t,e,r)=>{if(t)return a(t);s({bytesRead:e,buffer:r})}))}))},t.write=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return"function"==typeof i[i.length-1]?r.write(t,e,...i):new Promise(((n,o)=>{r.write(t,e,...i,((t,e,r)=>{if(t)return o(t);n({bytesWritten:e,buffer:r})}))}))},t.readv=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return"function"==typeof i[i.length-1]?r.readv(t,e,...i):new Promise(((n,o)=>{r.readv(t,e,...i,((t,e,r)=>{if(t)return o(t);n({bytesRead:e,buffers:r})}))}))},t.writev=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return"function"==typeof i[i.length-1]?r.writev(t,e,...i):new Promise(((n,o)=>{r.writev(t,e,...i,((t,e,r)=>{if(t)return o(t);n({bytesWritten:e,buffers:r})}))}))},"function"==typeof r.realpath.native?t.realpath.native=e(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(C)),C}var L,P,x,F,D,j,H,V,M,W,G,U,X,B,q,Y,J,z,K,Z,Q,tt,et,rt,nt,it,ot,st,at,ct,lt,ut,ht,pt,ft,mt,dt,gt,yt,Et,wt,vt,Ot,St,_t,$t,bt,At,Ct,It,Nt,Rt,Tt,kt,Lt={},Pt={};function xt(){if(L)return Pt;L=1;const t=c;return Pt.checkPath=function(e){if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(t.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},Pt}function Ft(){if(P)return Lt;P=1;const t=k(),{checkPath:e}=xt(),r=t=>"number"==typeof t?t:{mode:511,...t}.mode;return Lt.makeDir=async(n,i)=>(e(n),t.mkdir(n,{mode:r(i),recursive:!0})),Lt.makeDirSync=(n,i)=>(e(n),t.mkdirSync(n,{mode:r(i),recursive:!0})),Lt}function Dt(){if(F)return x;F=1;const t=N().fromPromise,{makeDir:e,makeDirSync:r}=Ft(),n=t(e);return x={mkdirs:n,mkdirsSync:r,mkdirp:n,mkdirpSync:r,ensureDir:n,ensureDirSync:r}}function jt(){if(j)return D;j=1;const t=N().fromPromise,e=k();return D={pathExists:t((function(t){return e.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:e.existsSync}}function Ht(){if(V)return H;V=1;const t=k(),e=N().fromPromise;return H={utimesMillis:e((async function(e,r,n){const i=await t.open(e,"r+");let o=null;try{await t.futimes(i,r,n)}finally{try{await t.close(i)}catch(t){o=t}}if(o)throw o})),utimesMillisSync:function(e,r,n){const i=t.openSync(e,"r+");return t.futimesSync(i,r,n),t.closeSync(i)}}}function Vt(){if(W)return M;W=1;const t=k(),e=c,r=N().fromPromise;function n(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function i(t,r){const n=e.resolve(t).split(e.sep).filter((t=>t)),i=e.resolve(r).split(e.sep).filter((t=>t));return n.every(((t,e)=>i[e]===t))}function o(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}return M={checkPaths:r((async function(r,s,a,c){const{srcStat:l,destStat:u}=await function(e,r,n){const i=n.dereference?e=>t.stat(e,{bigint:!0}):e=>t.lstat(e,{bigint:!0});return Promise.all([i(e),i(r).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((t=>{let[e,r]=t;return{srcStat:e,destStat:r}}))}(r,s,c);if(u){if(n(l,u)){const t=e.basename(r),n=e.basename(s);if("move"===a&&t!==n&&t.toLowerCase()===n.toLowerCase())return{srcStat:l,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${s}' with directory '${r}'.`);if(!l.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${s}' with non-directory '${r}'.`)}if(l.isDirectory()&&i(r,s))throw new Error(o(r,s,a));return{srcStat:l,destStat:u}})),checkPathsSync:function(r,s,a,c){const{srcStat:l,destStat:u}=function(e,r,n){let i;const o=n.dereference?e=>t.statSync(e,{bigint:!0}):e=>t.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(r)}catch(t){if("ENOENT"===t.code)return{srcStat:s,destStat:null};throw t}return{srcStat:s,destStat:i}}(r,s,c);if(u){if(n(l,u)){const t=e.basename(r),n=e.basename(s);if("move"===a&&t!==n&&t.toLowerCase()===n.toLowerCase())return{srcStat:l,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${s}' with directory '${r}'.`);if(!l.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${s}' with non-directory '${r}'.`)}if(l.isDirectory()&&i(r,s))throw new Error(o(r,s,a));return{srcStat:l,destStat:u}},checkParentPaths:r((async function r(i,s,a,c){const l=e.resolve(e.dirname(i)),u=e.resolve(e.dirname(a));if(u===l||u===e.parse(u).root)return;let h;try{h=await t.stat(u,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(n(s,h))throw new Error(o(i,a,c));return r(i,s,u,c)})),checkParentPathsSync:function r(i,s,a,c){const l=e.resolve(e.dirname(i)),u=e.resolve(e.dirname(a));if(u===l||u===e.parse(u).root)return;let h;try{h=t.statSync(u,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(n(s,h))throw new Error(o(i,a,c));return r(i,s,u,c)},isSrcSubdir:i,areIdentical:n},M}function Mt(){if(U)return G;U=1;const t=k(),e=c,{mkdirs:r}=Dt(),{pathExists:n}=jt(),{utimesMillis:i}=Ht(),o=Vt();async function s(t,e,r){return!r.filter||r.filter(t,e)}async function a(r,n,i,c){const u=c.dereference?t.stat:t.lstat,h=await u(n);if(h.isDirectory())return async function(r,n,i,c,l){n||await t.mkdir(c);const u=[];for await(const r of await t.opendir(i)){const t=e.join(i,r.name),n=e.join(c,r.name);u.push(s(t,n,l).then((e=>{if(e)return o.checkPaths(t,n,"copy",l).then((e=>{let{destStat:r}=e;return a(r,t,n,l)}))})))}await Promise.all(u),n||await t.chmod(c,r.mode)}(h,r,n,i,c);if(h.isFile()||h.isCharacterDevice()||h.isBlockDevice())return async function(e,r,n,i,o){if(!r)return l(e,n,i,o);if(o.overwrite)return await t.unlink(i),l(e,n,i,o);if(o.errorOnExist)throw new Error(`'${i}' already exists`)}(h,r,n,i,c);if(h.isSymbolicLink())return async function(r,n,i,s){let a=await t.readlink(n);s.dereference&&(a=e.resolve(process.cwd(),a));if(!r)return t.symlink(a,i);let c=null;try{c=await t.readlink(i)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return t.symlink(a,i);throw e}s.dereference&&(c=e.resolve(process.cwd(),c));if(o.isSrcSubdir(a,c))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${c}'.`);if(o.isSrcSubdir(c,a))throw new Error(`Cannot overwrite '${c}' with '${a}'.`);return await t.unlink(i),t.symlink(a,i)}(r,n,i,c);if(h.isSocket())throw new Error(`Cannot copy a socket file: ${n}`);if(h.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${n}`);throw new Error(`Unknown file: ${n}`)}async function l(e,r,n,o){if(await t.copyFile(r,n),o.preserveTimestamps){128&e.mode||await function(e,r){return t.chmod(e,128|r)}(n,e.mode);const o=await t.stat(r);await i(n,o.atime,o.mtime)}return t.chmod(n,e.mode)}return G=async function(t,i){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"function"==typeof c&&(c={filter:c}),c.clobber=!("clobber"in c)||!!c.clobber,c.overwrite="overwrite"in c?!!c.overwrite:c.clobber,c.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:l,destStat:u}=await o.checkPaths(t,i,"copy",c);if(await o.checkParentPaths(t,l,i,"copy"),!await s(t,i,c))return;const h=e.dirname(i);await n(h)||await r(h),await a(u,t,i,c)},G}function Wt(){if(B)return X;B=1;const t=T(),e=c,r=Dt().mkdirsSync,n=Ht().utimesMillisSync,i=Vt();function o(r,n,o,c){const u=(c.dereference?t.statSync:t.lstatSync)(n);if(u.isDirectory())return function(e,r,n,i,o){return r?l(n,i,o):function(e,r,n,i){return t.mkdirSync(n),l(r,n,i),a(n,e)}(e.mode,n,i,o)}(u,r,n,o,c);if(u.isFile()||u.isCharacterDevice()||u.isBlockDevice())return function(e,r,n,i,o){return r?function(e,r,n,i){if(i.overwrite)return t.unlinkSync(n),s(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):s(e,n,i,o)}(u,r,n,o,c);if(u.isSymbolicLink())return function(r,n,o,s){let a=t.readlinkSync(n);s.dereference&&(a=e.resolve(process.cwd(),a));if(r){let r;try{r=t.readlinkSync(o)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return t.symlinkSync(a,o);throw e}if(s.dereference&&(r=e.resolve(process.cwd(),r)),i.isSrcSubdir(a,r))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${r}'.`);if(i.isSrcSubdir(r,a))throw new Error(`Cannot overwrite '${r}' with '${a}'.`);return function(e,r){return t.unlinkSync(r),t.symlinkSync(e,r)}(a,o)}return t.symlinkSync(a,o)}(r,n,o,c);if(u.isSocket())throw new Error(`Cannot copy a socket file: ${n}`);if(u.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${n}`);throw new Error(`Unknown file: ${n}`)}function s(e,r,i,o){return t.copyFileSync(r,i),o.preserveTimestamps&&function(e,r,i){(function(t){return!(128&t)})(e)&&function(t,e){a(t,128|e)}(i,e);(function(e,r){const i=t.statSync(e);n(r,i.atime,i.mtime)})(r,i)}(e.mode,r,i),a(i,e.mode)}function a(e,r){return t.chmodSync(e,r)}function l(e,r,n){const i=t.opendirSync(e);try{let t;for(;null!==(t=i.readSync());)u(t.name,e,r,n)}finally{i.closeSync()}}function u(t,r,n,s){const a=e.join(r,t),c=e.join(n,t);if(s.filter&&!s.filter(a,c))return;const{destStat:l}=i.checkPathsSync(a,c,"copy",s);return o(l,a,c,s)}return X=function(n,s,a){"function"==typeof a&&(a={filter:a}),(a=a||{}).clobber=!("clobber"in a)||!!a.clobber,a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:c,destStat:l}=i.checkPathsSync(n,s,"copy",a);if(i.checkParentPathsSync(n,c,s,"copy"),a.filter&&!a.filter(n,s))return;const u=e.dirname(s);return t.existsSync(u)||r(u),o(l,n,s,a)}}function Gt(){if(Y)return q;Y=1;const t=N().fromPromise;return q={copy:t(Mt()),copySync:Wt()}}function Ut(){if(z)return J;z=1;const t=T(),e=N().fromCallback;return J={remove:e((function(e,r){t.rm(e,{recursive:!0,force:!0},r)})),removeSync:function(e){t.rmSync(e,{recursive:!0,force:!0})}}}function Xt(){if(Z)return K;Z=1;const t=N().fromPromise,e=k(),r=c,n=Dt(),i=Ut(),o=t((async function(t){let o;try{o=await e.readdir(t)}catch{return n.mkdirs(t)}return Promise.all(o.map((e=>i.remove(r.join(t,e)))))}));function s(t){let o;try{o=e.readdirSync(t)}catch{return n.mkdirsSync(t)}o.forEach((e=>{e=r.join(t,e),i.removeSync(e)}))}return K={emptyDirSync:s,emptydirSync:s,emptyDir:o,emptydir:o}}function Bt(){if(tt)return Q;tt=1;const t=N().fromPromise,e=c,r=k(),n=Dt();return Q={createFile:t((async function(t){let i;try{i=await r.stat(t)}catch{}if(i&&i.isFile())return;const o=e.dirname(t);let s=null;try{s=await r.stat(o)}catch(e){if("ENOENT"===e.code)return await n.mkdirs(o),void await r.writeFile(t,"");throw e}s.isDirectory()?await r.writeFile(t,""):await r.readdir(o)})),createFileSync:function(t){let i;try{i=r.statSync(t)}catch{}if(i&&i.isFile())return;const o=e.dirname(t);try{r.statSync(o).isDirectory()||r.readdirSync(o)}catch(t){if(!t||"ENOENT"!==t.code)throw t;n.mkdirsSync(o)}r.writeFileSync(t,"")}}}function qt(){if(rt)return et;rt=1;const t=N().fromPromise,e=c,r=k(),n=Dt(),{pathExists:i}=jt(),{areIdentical:o}=Vt();return et={createLink:t((async function(t,s){let a,c;try{a=await r.lstat(s)}catch{}try{c=await r.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}if(a&&o(c,a))return;const l=e.dirname(s);await i(l)||await n.mkdirs(l),await r.link(t,s)})),createLinkSync:function(t,i){let s;try{s=r.lstatSync(i)}catch{}try{const e=r.lstatSync(t);if(s&&o(e,s))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const a=e.dirname(i);return r.existsSync(a)||n.mkdirsSync(a),r.linkSync(t,i)}}}function Yt(){if(it)return nt;it=1;const t=c,e=k(),{pathExists:r}=jt(),n=N().fromPromise;return nt={symlinkPaths:n((async function(n,i){if(t.isAbsolute(n)){try{await e.lstat(n)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:n,toDst:n}}const o=t.dirname(i),s=t.join(o,n);if(await r(s))return{toCwd:s,toDst:n};try{await e.lstat(n)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:n,toDst:t.relative(o,n)}})),symlinkPathsSync:function(r,n){if(t.isAbsolute(r)){if(!e.existsSync(r))throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}const i=t.dirname(n),o=t.join(i,r);if(e.existsSync(o))return{toCwd:o,toDst:r};if(!e.existsSync(r))throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:t.relative(i,r)}}}}function Jt(){if(st)return ot;st=1;const t=k(),e=N().fromPromise;return ot={symlinkType:e((async function(e,r){if(r)return r;let n;try{n=await t.lstat(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"})),symlinkTypeSync:function(e,r){if(r)return r;let n;try{n=t.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}}function zt(){if(ct)return at;ct=1;const t=N().fromPromise,e=c,r=k(),{mkdirs:n,mkdirsSync:i}=Dt(),{symlinkPaths:o,symlinkPathsSync:s}=Yt(),{symlinkType:a,symlinkTypeSync:l}=Jt(),{pathExists:u}=jt(),{areIdentical:h}=Vt();return at={createSymlink:t((async function(t,i,s){let c;try{c=await r.lstat(i)}catch{}if(c&&c.isSymbolicLink()){const[e,n]=await Promise.all([r.stat(t),r.stat(i)]);if(h(e,n))return}const l=await o(t,i);t=l.toDst;const p=await a(l.toCwd,s),f=e.dirname(i);return await u(f)||await n(f),r.symlink(t,i,p)})),createSymlinkSync:function(t,n,o){let a;try{a=r.lstatSync(n)}catch{}if(a&&a.isSymbolicLink()){const e=r.statSync(t),i=r.statSync(n);if(h(e,i))return}const c=s(t,n);t=c.toDst,o=l(c.toCwd,o);const u=e.dirname(n);return r.existsSync(u)||i(u),r.symlinkSync(t,n,o)}}}function Kt(){if(ut)return lt;ut=1;const{createFile:t,createFileSync:e}=Bt(),{createLink:r,createLinkSync:n}=qt(),{createSymlink:i,createSymlinkSync:o}=zt();return lt={createFile:t,createFileSync:e,ensureFile:t,ensureFileSync:e,createLink:r,createLinkSync:n,ensureLink:r,ensureLinkSync:n,createSymlink:i,createSymlinkSync:o,ensureSymlink:i,ensureSymlinkSync:o}}function Zt(){if(pt)return ht;return pt=1,ht={stringify:function(t){let{EOL:e="\n",finalEOL:r=!0,replacer:n=null,spaces:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=r?e:"";return JSON.stringify(t,n,i).replace(/\n/g,e)+o},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}},ht}function Qt(){if(gt)return dt;gt=1;const t=function(){if(mt)return ft;let t;mt=1;try{t=T()}catch(e){t=n}const e=N(),{stringify:r,stripBom:i}=Zt(),o=e.fromPromise((async function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof n&&(n={encoding:n});const o=n.fs||t,s=!("throws"in n)||n.throws;let a,c=await e.fromCallback(o.readFile)(r,n);c=i(c);try{a=JSON.parse(c,n?n.reviver:null)}catch(t){if(s)throw t.message=`${r}: ${t.message}`,t;return null}return a})),s=e.fromPromise((async function(n,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=o.fs||t,a=r(i,o);await e.fromCallback(s.writeFile)(n,a,o)})),a={readFile:o,readFileSync:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof r&&(r={encoding:r});const n=r.fs||t,o=!("throws"in r)||r.throws;try{let t=n.readFileSync(e,r);return t=i(t),JSON.parse(t,r.reviver)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:s,writeFileSync:function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=i.fs||t,s=r(n,i);return o.writeFileSync(e,s,i)}};return ft=a}();return dt={readJson:t.readFile,readJsonSync:t.readFileSync,writeJson:t.writeFile,writeJsonSync:t.writeFileSync}}function te(){if(Et)return yt;Et=1;const t=N().fromPromise,e=k(),r=c,n=Dt(),i=jt().pathExists;return yt={outputFile:t((async function(t,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf-8";const a=r.dirname(t);return await i(a)||await n.mkdirs(a),e.writeFile(t,o,s)})),outputFileSync:function(t){const i=r.dirname(t);e.existsSync(i)||n.mkdirsSync(i);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];e.writeFileSync(t,...s)}},yt}function ee(){if(vt)return wt;vt=1;const{stringify:t}=Zt(),{outputFile:e}=te();return wt=async function(r,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t(n,i);await e(r,o,i)},wt}function re(){if(St)return Ot;St=1;const{stringify:t}=Zt(),{outputFileSync:e}=te();return Ot=function(r,n,i){const o=t(n,i);e(r,o,i)},Ot}function ne(){if($t)return _t;$t=1;const t=N().fromPromise,e=Qt();return e.outputJson=t(ee()),e.outputJsonSync=re(),e.outputJSON=e.outputJson,e.outputJSONSync=e.outputJsonSync,e.writeJSON=e.writeJson,e.writeJSONSync=e.writeJsonSync,e.readJSON=e.readJson,e.readJSONSync=e.readJsonSync,_t=e}function ie(){if(At)return bt;At=1;const t=k(),e=c,{copy:r}=Gt(),{remove:n}=Ut(),{mkdirp:i}=Dt(),{pathExists:o}=jt(),s=Vt();return bt=async function(a,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=l.overwrite||l.clobber||!1,{srcStat:h,isChangingCase:p=!1}=await s.checkPaths(a,c,"move",l);await s.checkParentPaths(a,h,c,"move");const f=e.dirname(c);return e.parse(f).root!==f&&await i(f),async function(e,i,s,a){if(!a)if(s)await n(i);else if(await o(i))throw new Error("dest already exists.");try{await t.rename(e,i)}catch(t){if("EXDEV"!==t.code)throw t;await async function(t,e,i){const o={overwrite:i,errorOnExist:!0,preserveTimestamps:!0};return await r(t,e,o),n(t)}(e,i,s)}}(a,c,u,p)},bt}function oe(){if(It)return Ct;It=1;const t=T(),e=c,r=Gt().copySync,n=Ut().removeSync,i=Dt().mkdirpSync,o=Vt();function s(e,i,o){try{t.renameSync(e,i)}catch(t){if("EXDEV"!==t.code)throw t;return function(t,e,i){const o={overwrite:i,errorOnExist:!0,preserveTimestamps:!0};return r(t,e,o),n(t)}(e,i,o)}}return Ct=function(r,a,c){const l=(c=c||{}).overwrite||c.clobber||!1,{srcStat:u,isChangingCase:h=!1}=o.checkPathsSync(r,a,"move",c);return o.checkParentPathsSync(r,u,a,"move"),function(t){const r=e.dirname(t);return e.parse(r).root===r}(a)||i(e.dirname(a)),function(e,r,i,o){if(o)return s(e,r,i);if(i)return n(r),s(e,r,i);if(t.existsSync(r))throw new Error("dest already exists.");return s(e,r,i)}(r,a,l,h)}}function se(){if(Rt)return Nt;Rt=1;const t=N().fromPromise;return Nt={move:t(ie()),moveSync:oe()}}function ae(){return kt?Tt:(kt=1,Tt={...k(),...Gt(),...Xt(),...Kt(),...ne(),...Dt(),...se(),...te(),...jt(),...Ut()})}var ce,le,ue,he,pe,fe,me,de,ge,ye,Ee,we,ve,Oe,Se,_e,$e,be,Ae,Ce,Ie,Ne,Re,Te,ke,Le,Pe,xe,Fe,De,je,He,Ve,Me,We,Ge,Ue,Xe,Be,qe,Ye,Je,ze,Ke,Ze,Qe,tr,er,rr,nr,ir,or,sr,ar,cr,lr,ur,hr,pr,fr,mr,dr,gr,yr,Er,wr,vr,Or,Sr,_r,$r,br,Ar,Cr,Ir,Nr,Rr,Tr,kr,Lr,Pr,xr,Fr,Dr,jr,Hr,Vr,Mr,Wr,Gr=g(ae()),Ur={exports:{}};function Xr(){if(le)return ce;le=1;const t=Number.MAX_SAFE_INTEGER||9007199254740991;return ce={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}function Br(){if(he)return ue;he=1;const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.error("SEMVER",...e)}:()=>{};return ue=t}function qr(){return pe||(pe=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Xr(),o=Br(),s=(e=t.exports={}).re=[],a=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let h=0;const p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[p,n]],m=(t,e,r)=>{const n=(t=>{for(const[e,r]of f)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t})(e),i=h++;o(t,i,e),u[t]=i,c[i]=e,l[i]=n,s[i]=new RegExp(e,r?"g":void 0),a[i]=new RegExp(n,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${p}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Ur,Ur.exports)),Ur.exports}function Yr(){if(me)return fe;me=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return fe=r=>r?"object"!=typeof r?t:r:e}function Jr(){if(ge)return de;ge=1;const t=/^[0-9]+$/,e=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};return de={compareIdentifiers:e,rcompareIdentifiers:(t,r)=>e(r,t)}}function zr(){if(Ee)return ye;Ee=1;const t=Br(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=Xr(),{safeRe:n,safeSrc:i,t:o}=qr(),s=Yr(),{compareIdentifiers:a}=Jr();class c{constructor(i,a){if(a=s(a),i instanceof c){if(i.loose===!!a.loose&&i.includePrerelease===!!a.includePrerelease)return i;i=i.version}else if("string"!=typeof i)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof i}".`);if(i.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",i,a),this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease;const l=i.trim().match(a.loose?n[o.LOOSE]:n[o.FULL]);if(!l)throw new TypeError(`Invalid Version: ${i}`);if(this.raw=i,this.major=+l[1],this.minor=+l[2],this.patch=+l[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");l[4]?this.prerelease=l[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<r)return e}return t})):this.prerelease=[],this.build=l[5]?l[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(t("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(t){return t instanceof c||(t=new c(t,this.options)),a(this.major,t.major)||a(this.minor,t.minor)||a(this.patch,t.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(t("prerelease compare",r,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return a(n,i)}while(++r)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(t("build compare",r,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return a(n,i)}while(++r)}inc(t,e,r){if(t.startsWith("pre")){if(!e&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(e){const t=new RegExp(`^${this.options.loose?i[o.PRERELEASELOOSE]:i[o.PRERELEASE]}$`),r=`-${e}`.match(t);if(!r||r[1]!==e)throw new Error(`invalid identifier: ${e}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,r),this.inc("pre",e,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,r),this.inc("pre",e,r);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[t];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(e===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let n=[e,t];!1===r&&(n=[e]),0===a(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ye=c}function Kr(){if(ve)return we;ve=1;const t=zr();return we=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof t)return e;try{return new t(e,r)}catch(t){if(!n)return null;throw t}},we}function Zr(){if(je)return De;je=1;const t=zr();return De=(e,r,n)=>new t(e,n).compare(new t(r,n))}function Qr(){if(Ue)return Ge;Ue=1;const t=zr();return Ge=(e,r,n)=>{const i=new t(e,n),o=new t(r,n);return i.compare(o)||i.compareBuild(o)}}function tn(){if(ze)return Je;ze=1;const t=Zr();return Je=(e,r,n)=>t(e,r,n)>0}function en(){if(Ze)return Ke;Ze=1;const t=Zr();return Ke=(e,r,n)=>t(e,r,n)<0}function rn(){if(tr)return Qe;tr=1;const t=Zr();return Qe=(e,r,n)=>0===t(e,r,n)}function nn(){if(rr)return er;rr=1;const t=Zr();return er=(e,r,n)=>0!==t(e,r,n)}function on(){if(ir)return nr;ir=1;const t=Zr();return nr=(e,r,n)=>t(e,r,n)>=0}function sn(){if(sr)return or;sr=1;const t=Zr();return or=(e,r,n)=>t(e,r,n)<=0}function an(){if(cr)return ar;cr=1;const t=rn(),e=nn(),r=tn(),n=on(),i=en(),o=sn();return ar=(s,a,c,l)=>{switch(a){case"===":return"object"==typeof s&&(s=s.version),"object"==typeof c&&(c=c.version),s===c;case"!==":return"object"==typeof s&&(s=s.version),"object"==typeof c&&(c=c.version),s!==c;case"":case"=":case"==":return t(s,c,l);case"!=":return e(s,c,l);case">":return r(s,c,l);case">=":return n(s,c,l);case"<":return i(s,c,l);case"<=":return o(s,c,l);default:throw new TypeError(`Invalid operator: ${a}`)}}}function cn(){if(mr)return fr;mr=1;const t=/\s+/g;class e{constructor(r,o){if(o=n(o),r instanceof e)return r.loose===!!o.loose&&r.includePrerelease===!!o.includePrerelease?r:new e(r.raw,o);if(r instanceof i)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=r.trim().replace(t," "),this.set=this.raw.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!m(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&d(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");const e=this.set[t];for(let t=0;t<e.length;t++)t>0&&(this.formatted+=" "),this.formatted+=e[t].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){const e=((this.options.includePrerelease&&p)|(this.options.loose&&f))+":"+t,n=r.get(e);if(n)return n;const s=this.options.loose,d=s?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];t=t.replace(d,C(this.options.includePrerelease)),o("hyphen replace",t),t=t.replace(a[c.COMPARATORTRIM],l),o("comparator trim",t),t=t.replace(a[c.TILDETRIM],u),o("tilde trim",t),t=t.replace(a[c.CARETTRIM],h),o("caret trim",t);let g=t.split(" ").map((t=>y(t,this.options))).join(" ").split(/\s+/).map((t=>A(t,this.options)));s&&(g=g.filter((t=>(o("loose invalid filter",t,this.options),!!t.match(a[c.COMPARATORLOOSE]))))),o("range list",g);const E=new Map,w=g.map((t=>new i(t,this.options)));for(const t of w){if(m(t))return[t];E.set(t.value,t)}E.size>1&&E.has("")&&E.delete("");const v=[...E.values()];return r.set(e,v),v}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((e=>g(e,r)&&t.set.some((t=>g(t,r)&&e.every((e=>t.every((t=>e.intersects(t,r)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new s(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(I(this.set[e],t,this.options))return!0;return!1}}fr=e;const r=new(pr?hr:(pr=1,hr=class{constructor(){this.max=1e3,this.map=new Map}get(t){const e=this.map.get(t);return void 0===e?void 0:(this.map.delete(t),this.map.set(t,e),e)}delete(t){return this.map.delete(t)}set(t,e){if(!this.delete(t)&&void 0!==e){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(t,e)}return this}})),n=Yr(),i=ln(),o=Br(),s=zr(),{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:h}=qr(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:f}=Xr(),m=t=>"<0.0.0-0"===t.value,d=t=>""===t.value,g=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every((t=>i.intersects(t,e))),i=n.pop();return r},y=(t,e)=>(o("comp",t,e),t=O(t,e),o("caret",t),t=w(t,e),o("tildes",t),t=_(t,e),o("xrange",t),t=b(t,e),o("stars",t),t),E=t=>!t||"x"===t.toLowerCase()||"*"===t,w=(t,e)=>t.trim().split(/\s+/).map((t=>v(t,e))).join(" "),v=(t,e)=>{const r=e.loose?a[c.TILDELOOSE]:a[c.TILDE];return t.replace(r,((e,r,n,i,s)=>{let a;return o("tilde",t,e,r,n,i,s),E(r)?a="":E(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:E(i)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(o("replaceTilde pr",s),a=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,o("tilde return",a),a}))},O=(t,e)=>t.trim().split(/\s+/).map((t=>S(t,e))).join(" "),S=(t,e)=>{o("caret",t,e);const r=e.loose?a[c.CARETLOOSE]:a[c.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,((e,r,i,s,a)=>{let c;return o("caret",t,e,r,i,s,a),E(r)?c="":E(i)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:E(s)?c="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:a?(o("replaceCaret pr",a),c="0"===r?"0"===i?`>=${r}.${i}.${s}-${a} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${a} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${a} <${+r+1}.0.0-0`):(o("no pr"),c="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),o("caret return",c),c}))},_=(t,e)=>(o("replaceXRanges",t,e),t.split(/\s+/).map((t=>$(t,e))).join(" ")),$=(t,e)=>{t=t.trim();const r=e.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return t.replace(r,((r,n,i,s,a,c)=>{o("xRange",t,r,n,i,s,a,c);const l=E(i),u=l||E(s),h=u||E(a),p=h;return"="===n&&p&&(n=""),c=e.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(u&&(s=0),a=0,">"===n?(n=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),"<"===n&&(c="-0"),r=`${n+i}.${s}.${a}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),o("xRange return",r),r}))},b=(t,e)=>(o("replaceStars",t,e),t.trim().replace(a[c.STAR],"")),A=(t,e)=>(o("replaceGTE0",t,e),t.trim().replace(a[e.includePrerelease?c.GTE0PRE:c.GTE0],"")),C=t=>(e,r,n,i,o,s,a,c,l,u,h,p)=>`${r=E(n)?"":E(i)?`>=${n}.0.0${t?"-0":""}`:E(o)?`>=${n}.${i}.0${t?"-0":""}`:s?`>=${r}`:`>=${r}${t?"-0":""}`} ${c=E(l)?"":E(u)?`<${+l+1}.0.0-0`:E(h)?`<${l}.${+u+1}.0-0`:p?`<=${l}.${u}.${h}-${p}`:t?`<${l}.${u}.${+h+1}-0`:`<=${c}`}`.trim(),I=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(o(t[r].semver),t[r].semver!==i.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0};return fr}function ln(){if(gr)return dr;gr=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(n,i){if(i=r(i),n instanceof e){if(n.loose===!!i.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),s("comparator",n,i),this.options=i,this.loose=!!i.loose,this.parse(n),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const r=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],o=e.match(r);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new a(o[2],this.options.loose):this.semver=t}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===t||e===t)return!0;if("string"==typeof e)try{e=new a(e,this.options)}catch(t){return!1}return o(e,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(t.value,n).test(this.value):""===t.operator?""===t.value||new c(this.value,n).test(t.semver):(!(n=r(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!t.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!t.operator.startsWith("<"))||(!(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))||(!!(o(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))||!!(o(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))))))}}dr=e;const r=Yr(),{safeRe:n,t:i}=qr(),o=an(),s=Br(),a=zr(),c=cn();return dr}function un(){if(Er)return yr;Er=1;const t=cn();return yr=(e,r,n)=>{try{r=new t(r,n)}catch(t){return!1}return r.test(e)},yr}function hn(){if(Ir)return Cr;Ir=1;const t=cn();return Cr=(e,r)=>{try{return new t(e,r).range||"*"}catch(t){return null}},Cr}function pn(){if(Rr)return Nr;Rr=1;const t=zr(),e=ln(),{ANY:r}=e,n=cn(),i=un(),o=tn(),s=en(),a=sn(),c=on();return Nr=(l,u,h,p)=>{let f,m,d,g,y;switch(l=new t(l,p),u=new n(u,p),h){case">":f=o,m=a,d=s,g=">",y=">=";break;case"<":f=s,m=c,d=o,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(l,u,p))return!1;for(let t=0;t<u.set.length;++t){const n=u.set[t];let i=null,o=null;if(n.forEach((t=>{t.semver===r&&(t=new e(">=0.0.0")),i=i||t,o=o||t,f(t.semver,i.semver,p)?i=t:d(t.semver,o.semver,p)&&(o=t)})),i.operator===g||i.operator===y)return!1;if((!o.operator||o.operator===g)&&m(l,o.semver))return!1;if(o.operator===y&&d(l,o.semver))return!1}return!0},Nr}var fn=function(){if(Wr)return Mr;Wr=1;const t=qr(),e=Xr(),r=zr(),n=Jr(),i=Kr(),o=function(){if(Se)return Oe;Se=1;const t=Kr();return Oe=(e,r)=>{const n=t(e,r);return n?n.version:null}}(),s=function(){if($e)return _e;$e=1;const t=Kr();return _e=(e,r)=>{const n=t(e.trim().replace(/^[=v]+/,""),r);return n?n.version:null}}(),a=function(){if(Ae)return be;Ae=1;const t=zr();return be=(e,r,n,i,o)=>{"string"==typeof n&&(o=i,i=n,n=void 0);try{return new t(e instanceof t?e.version:e,n).inc(r,i,o).version}catch(t){return null}}}(),c=function(){if(Ie)return Ce;Ie=1;const t=Kr();return Ce=(e,r)=>{const n=t(e,null,!0),i=t(r,null,!0),o=n.compare(i);if(0===o)return null;const s=o>0,a=s?n:i,c=s?i:n,l=!!a.prerelease.length;if(c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(a))return c.minor&&!c.patch?"minor":"patch"}const u=l?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}}(),l=function(){if(Re)return Ne;Re=1;const t=zr();return Ne=(e,r)=>new t(e,r).major}(),u=function(){if(ke)return Te;ke=1;const t=zr();return Te=(e,r)=>new t(e,r).minor}(),h=function(){if(Pe)return Le;Pe=1;const t=zr();return Le=(e,r)=>new t(e,r).patch}(),p=function(){if(Fe)return xe;Fe=1;const t=Kr();return xe=(e,r)=>{const n=t(e,r);return n&&n.prerelease.length?n.prerelease:null}}(),f=Zr(),m=function(){if(Ve)return He;Ve=1;const t=Zr();return He=(e,r,n)=>t(r,e,n)}(),d=function(){if(We)return Me;We=1;const t=Zr();return Me=(e,r)=>t(e,r,!0)}(),g=Qr(),y=function(){if(Be)return Xe;Be=1;const t=Qr();return Xe=(e,r)=>e.sort(((e,n)=>t(e,n,r)))}(),E=function(){if(Ye)return qe;Ye=1;const t=Qr();return qe=(e,r)=>e.sort(((e,n)=>t(n,e,r)))}(),w=tn(),v=en(),O=rn(),S=nn(),_=on(),$=sn(),b=an(),A=function(){if(ur)return lr;ur=1;const t=zr(),e=Kr(),{safeRe:r,t:n}=qr();return lr=(i,o)=>{if(i instanceof t)return i;if("number"==typeof i&&(i=String(i)),"string"!=typeof i)return null;let s=null;if((o=o||{}).rtl){const t=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let e;for(;(e=t.exec(i))&&(!s||s.index+s[0].length!==i.length);)s&&e.index+e[0].length===s.index+s[0].length||(s=e),t.lastIndex=e.index+e[1].length+e[2].length;t.lastIndex=-1}else s=i.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);if(null===s)return null;const a=s[2],c=s[3]||"0",l=s[4]||"0",u=o.includePrerelease&&s[5]?`-${s[5]}`:"",h=o.includePrerelease&&s[6]?`+${s[6]}`:"";return e(`${a}.${c}.${l}${u}${h}`,o)}}(),C=ln(),I=cn(),N=un(),R=function(){if(vr)return wr;vr=1;const t=cn();return wr=(e,r)=>new t(e,r).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" "))),wr}(),T=function(){if(Sr)return Or;Sr=1;const t=zr(),e=cn();return Or=(r,n,i)=>{let o=null,s=null,a=null;try{a=new e(n,i)}catch(t){return null}return r.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new t(o,i)))})),o},Or}(),k=function(){if($r)return _r;$r=1;const t=zr(),e=cn();return _r=(r,n,i)=>{let o=null,s=null,a=null;try{a=new e(n,i)}catch(t){return null}return r.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new t(o,i)))})),o},_r}(),L=function(){if(Ar)return br;Ar=1;const t=zr(),e=cn(),r=tn();return br=(n,i)=>{n=new e(n,i);let o=new t("0.0.0");if(n.test(o))return o;if(o=new t("0.0.0-0"),n.test(o))return o;o=null;for(let e=0;e<n.set.length;++e){const i=n.set[e];let s=null;i.forEach((e=>{const n=new t(e.semver.version);switch(e.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":s&&!r(n,s)||(s=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||o&&!r(o,s)||(o=s)}return o&&n.test(o)?o:null},br}(),P=hn(),x=pn(),F=function(){if(kr)return Tr;kr=1;const t=pn();return Tr=(e,r,n)=>t(e,r,">",n),Tr}(),D=function(){if(Pr)return Lr;Pr=1;const t=pn();return Lr=(e,r,n)=>t(e,r,"<",n),Lr}(),j=function(){if(Fr)return xr;Fr=1;const t=cn();return xr=(e,r,n)=>(e=new t(e,n),r=new t(r,n),e.intersects(r,n))}(),H=function(){if(jr)return Dr;jr=1;const t=un(),e=Zr();return Dr=(r,n,i)=>{const o=[];let s=null,a=null;const c=r.sort(((t,r)=>e(t,r,i)));for(const e of c)t(e,n,i)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const l=[];for(const[t,e]of o)t===e?l.push(t):e||t!==c[0]?e?t===c[0]?l.push(`<=${e}`):l.push(`${t} - ${e}`):l.push(`>=${t}`):l.push("*");const u=l.join(" || "),h="string"==typeof n.raw?n.raw:String(n);return u.length<h.length?u:n},Dr}(),V=function(){if(Vr)return Hr;Vr=1;const t=cn(),e=ln(),{ANY:r}=e,n=un(),i=Zr(),o=[new e(">=0.0.0-0")],s=[new e(">=0.0.0")],a=(t,e,a)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===r){if(1===e.length&&e[0].semver===r)return!0;t=a.includePrerelease?o:s}if(1===e.length&&e[0].semver===r){if(a.includePrerelease)return!0;e=s}const u=new Set;let h,p,f,m,d,g,y;for(const e of t)">"===e.operator||">="===e.operator?h=c(h,e,a):"<"===e.operator||"<="===e.operator?p=l(p,e,a):u.add(e.semver);if(u.size>1)return null;if(h&&p){if(f=i(h.semver,p.semver,a),f>0)return null;if(0===f&&(">="!==h.operator||"<="!==p.operator))return null}for(const t of u){if(h&&!n(t,String(h),a))return null;if(p&&!n(t,String(p),a))return null;for(const r of e)if(!n(t,String(r),a))return!1;return!0}let E=!(!p||a.includePrerelease||!p.semver.prerelease.length)&&p.semver,w=!(!h||a.includePrerelease||!h.semver.prerelease.length)&&h.semver;E&&1===E.prerelease.length&&"<"===p.operator&&0===E.prerelease[0]&&(E=!1);for(const t of e){if(y=y||">"===t.operator||">="===t.operator,g=g||"<"===t.operator||"<="===t.operator,h)if(w&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===w.major&&t.semver.minor===w.minor&&t.semver.patch===w.patch&&(w=!1),">"===t.operator||">="===t.operator){if(m=c(h,t,a),m===t&&m!==h)return!1}else if(">="===h.operator&&!n(h.semver,String(t),a))return!1;if(p)if(E&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===E.major&&t.semver.minor===E.minor&&t.semver.patch===E.patch&&(E=!1),"<"===t.operator||"<="===t.operator){if(d=l(p,t,a),d===t&&d!==p)return!1}else if("<="===p.operator&&!n(p.semver,String(t),a))return!1;if(!t.operator&&(p||h)&&0!==f)return!1}return!(h&&g&&!p&&0!==f||p&&y&&!h&&0!==f||w||E)},c=(t,e,r)=>{if(!t)return e;const n=i(t.semver,e.semver,r);return n>0?t:n<0||">"===e.operator&&">="===t.operator?e:t},l=(t,e,r)=>{if(!t)return e;const n=i(t.semver,e.semver,r);return n<0?t:n>0||"<"===e.operator&&"<="===t.operator?e:t};return Hr=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===r)return!0;e=new t(e,n),r=new t(r,n);let i=!1;t:for(const t of e.set){for(const e of r.set){const r=a(t,e,n);if(i=i||null!==r,r)continue t}if(i)return!1}return!0},Hr}();return Mr={parse:i,valid:o,clean:s,inc:a,diff:c,major:l,minor:u,patch:h,prerelease:p,compare:f,rcompare:m,compareLoose:d,compareBuild:g,sort:y,rsort:E,gt:w,lt:v,eq:O,neq:S,gte:_,lte:$,cmp:b,coerce:A,Comparator:C,Range:I,satisfies:N,toComparators:R,maxSatisfying:T,minSatisfying:k,minVersion:L,validRange:P,outside:x,gtr:F,ltr:D,intersects:j,simplifyRange:H,subset:V,SemVer:r,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}(),mn=g(fn);var dn,gn,yn={},En={},wn={};function vn(){if(dn)return wn;dn=1;class t extends Error{constructor(t,e,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}}return wn.CommanderError=t,wn.InvalidArgumentError=class extends t{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},wn}function On(){if(gn)return En;gn=1;const{InvalidArgumentError:t}=vn();return En.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(e,r)=>{if(!this.argChoices.includes(e))throw new t(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(e,r):e},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},En.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"},En}var Sn,_n={},$n={};function bn(){if(Sn)return $n;Sn=1;const{humanReadableArgName:t}=On();function e(t){return t.replace(/\x1b\[\d*(;\d*)*m/g,"")}return $n.Help=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(t){this.helpWidth=this.helpWidth??t.helpWidth??80}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),r=t._getHelpCommand();return r&&!r._hidden&&e.push(r),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const r=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return r(t).localeCompare(r(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),r=t._getHelpOption();if(r&&!r.hidden){const n=r.short&&t._findOption(r.short),i=r.long&&t._findOption(r.long);n||i?r.long&&!i?e.push(t.createOption(r.long,r.description)):r.short&&!n&&e.push(t.createOption(r.short,r.description)):e.push(r)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let r=t.parent;r;r=r.parent){const t=r.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(e){const r=e.registeredArguments.map((e=>t(e))).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,r)=>Math.max(t,this.displayWidth(e.styleSubcommandTerm(e.subcommandTerm(r))))),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,r)=>Math.max(t,this.displayWidth(e.styleOptionTerm(e.optionTerm(r))))),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,r)=>Math.max(t,this.displayWidth(e.styleOptionTerm(e.optionTerm(r))))),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,r)=>Math.max(t,this.displayWidth(e.styleArgumentTerm(e.argumentTerm(r))))),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let r="";for(let e=t.parent;e;e=e.parent)r=e.name()+" "+r;return r+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue){(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}return void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const r=`(${e.join(", ")})`;return t.description?`${t.description} ${r}`:r}return t.description}formatHelp(t,e){const r=e.padWidth(t,e),n=e.helpWidth??80;function i(t,n){return e.formatItem(t,r,n,e)}let o=[`${e.styleTitle("Usage:")} ${e.styleUsage(e.commandUsage(t))}`,""];const s=e.commandDescription(t);s.length>0&&(o=o.concat([e.boxWrap(e.styleCommandDescription(s),n),""]));const a=e.visibleArguments(t).map((t=>i(e.styleArgumentTerm(e.argumentTerm(t)),e.styleArgumentDescription(e.argumentDescription(t)))));a.length>0&&(o=o.concat([e.styleTitle("Arguments:"),...a,""]));const c=e.visibleOptions(t).map((t=>i(e.styleOptionTerm(e.optionTerm(t)),e.styleOptionDescription(e.optionDescription(t)))));if(c.length>0&&(o=o.concat([e.styleTitle("Options:"),...c,""])),e.showGlobalOptions){const r=e.visibleGlobalOptions(t).map((t=>i(e.styleOptionTerm(e.optionTerm(t)),e.styleOptionDescription(e.optionDescription(t)))));r.length>0&&(o=o.concat([e.styleTitle("Global Options:"),...r,""]))}const l=e.visibleCommands(t).map((t=>i(e.styleSubcommandTerm(e.subcommandTerm(t)),e.styleSubcommandDescription(e.subcommandDescription(t)))));return l.length>0&&(o=o.concat([e.styleTitle("Commands:"),...l,""])),o.join("\n")}displayWidth(t){return e(t).length}styleTitle(t){return t}styleUsage(t){return t.split(" ").map((t=>"[options]"===t?this.styleOptionText(t):"[command]"===t?this.styleSubcommandText(t):"["===t[0]||"<"===t[0]?this.styleArgumentText(t):this.styleCommandText(t))).join(" ")}styleCommandDescription(t){return this.styleDescriptionText(t)}styleOptionDescription(t){return this.styleDescriptionText(t)}styleSubcommandDescription(t){return this.styleDescriptionText(t)}styleArgumentDescription(t){return this.styleDescriptionText(t)}styleDescriptionText(t){return t}styleOptionTerm(t){return this.styleOptionText(t)}styleSubcommandTerm(t){return t.split(" ").map((t=>"[options]"===t?this.styleOptionText(t):"["===t[0]||"<"===t[0]?this.styleArgumentText(t):this.styleSubcommandText(t))).join(" ")}styleArgumentTerm(t){return this.styleArgumentText(t)}styleOptionText(t){return t}styleArgumentText(t){return t}styleSubcommandText(t){return t}styleCommandText(t){return t}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}preformatted(t){return/\n[^\S\r\n]/.test(t)}formatItem(t,e,r,n){const i=" ".repeat(2);if(!r)return i+t;const o=t.padEnd(e+t.length-n.displayWidth(t)),s=(this.helpWidth??80)-e-2-2;let a;if(s<this.minWidthToWrap||n.preformatted(r))a=r;else{a=n.boxWrap(r,s).replace(/\n/g,"\n"+" ".repeat(e+2))}return i+o+" ".repeat(2)+a.replace(/\n/g,`\n${i}`)}boxWrap(t,e){if(e<this.minWidthToWrap)return t;const r=t.split(/\r\n|\n/),n=/[\s]*[^\s]+/g,i=[];return r.forEach((t=>{const r=t.match(n);if(null===r)return void i.push("");let o=[r.shift()],s=this.displayWidth(o[0]);r.forEach((t=>{const r=this.displayWidth(t);if(s+r<=e)return o.push(t),void(s+=r);i.push(o.join(""));const n=t.trimStart();o=[n],s=this.displayWidth(n)})),i.push(o.join(""))})),i.join("\n")}},$n.stripColor=e,$n}var An,Cn={};function In(){if(An)return Cn;An=1;const{InvalidArgumentError:t}=vn();function e(t){return t.split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}return Cn.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const r=function(t){let e,r;const n=/^-[^-]$/,i=/^--[^-]/,o=t.split(/[ |,]+/).concat("guard");n.test(o[0])&&(e=o.shift());i.test(o[0])&&(r=o.shift());!e&&n.test(o[0])&&(e=o.shift());!e&&i.test(o[0])&&(e=r,r=o.shift());if(o[0].startsWith("-")){const e=o[0],r=`option creation failed due to '${e}' in option flags '${t}'`;if(/^-[^-][^-]/.test(e))throw new Error(`${r}\n- a short flag is a single dash and a single character\n  - either use a single dash and a single character (for a short flag)\n  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`);if(n.test(e))throw new Error(`${r}\n- too many short flags`);if(i.test(e))throw new Error(`${r}\n- too many long flags`);throw new Error(`${r}\n- unrecognised flag format`)}if(void 0===e&&void 0===r)throw new Error(`option creation failed due to no flags found in '${t}'.`);return{shortFlag:e,longFlag:r}}(t);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.mandatory=!!t,this}hideHelp(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(e){return this.argChoices=e.slice(),this.parseArg=(e,r)=>{if(!this.argChoices.includes(e))throw new t(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(e,r):e},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?e(this.name().replace(/^no-/,"")):e(this.name())}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},Cn.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const r=e.attributeName();if(!this.dualOptions.has(r))return!0;const n=this.negativeOptions.get(r).presetArg,i=void 0!==n&&n;return e.negate===(i===t)}},Cn}var Nn,Rn,Tn,kn={};function Ln(){if(Nn)return kn;Nn=1;return kn.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const r=t.startsWith("--");r&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let n=[],i=3;return e.forEach((e=>{if(e.length<=1)return;const r=function(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);const r=[];for(let e=0;e<=t.length;e++)r[e]=[e];for(let t=0;t<=e.length;t++)r[0][t]=t;for(let n=1;n<=e.length;n++)for(let i=1;i<=t.length;i++){let o=1;o=t[i-1]===e[n-1]?0:1,r[i][n]=Math.min(r[i-1][n]+1,r[i][n-1]+1,r[i-1][n-1]+o),i>1&&n>1&&t[i-1]===e[n-2]&&t[i-2]===e[n-1]&&(r[i][n]=Math.min(r[i][n],r[i-2][n-2]+1))}return r[t.length][e.length]}(t,e),o=Math.max(t.length,e.length);(o-r)/o>.4&&(r<i?(i=r,n=[e]):r===i&&n.push(e))})),n.sort(((t,e)=>t.localeCompare(e))),r&&(n=n.map((t=>`--${t}`))),n.length>1?`\n(Did you mean one of ${n.join(", ")}?)`:1===n.length?`\n(Did you mean ${n[0]}?)`:""},kn}var Pn=function(){if(Tn)return yn;Tn=1;const{Argument:t}=On(),{Command:e}=function(){if(Rn)return _n;Rn=1;const t=h.EventEmitter,e=p,n=r,i=f,o=m,{Argument:s,humanReadableArgName:a}=On(),{CommanderError:c}=vn(),{Help:l,stripColor:u}=bn(),{Option:d,DualOptions:g}=In(),{suggestSimilar:y}=Ln();class E extends t{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:t=>o.stdout.write(t),writeErr:t=>o.stderr.write(t),outputError:(t,e)=>e(t),getOutHelpWidth:()=>o.stdout.isTTY?o.stdout.columns:void 0,getErrHelpWidth:()=>o.stderr.isTTY?o.stderr.columns:void 0,getOutHasColors:()=>v()??(o.stdout.isTTY&&o.stdout.hasColors?.()),getErrHasColors:()=>v()??(o.stderr.isTTY&&o.stderr.hasColors?.()),stripColor:t=>u(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,r){let n=e,i=r;"object"==typeof n&&null!==n&&(i=n,n=null),i=i||{};const[,o,s]=t.match(/([^ ]+) *(.*)/),a=this.createCommand(o);return n&&(a.description(n),a._executableHandler=!0),i.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!i.noHelp&&!i.hidden),a._executableFile=i.executableFile||null,s&&a.arguments(s),this._registerCommand(a),a.parent=this,a.copyInheritedSettings(this),n?this:a}createCommand(t){return new E(t)}createHelp(){return Object.assign(new l,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new s(t,e)}argument(t,e,r,n){const i=this.createArgument(t,e);return"function"==typeof r?i.default(n).argParser(r):i.default(r),this.addArgument(i),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,r,n]=t.match(/([^ ]+) *(.*)/),i=e??"display help for command",o=this.createCommand(r);return o.helpOption(!1),n&&o.arguments(n),i&&o.description(i),this._addImplicitHelpCommand=!0,this._helpCommand=o,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const r=["preSubcommand","preAction","postAction"];if(!r.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,r){this._exitCallback&&this._exitCallback(new c(t,e,r)),o.exit(t)}action(t){return this._actionHandler=e=>{const r=this.registeredArguments.length,n=e.slice(0,r);return this._storeOptionsAsProperties?n[r]=this:n[r]=this.opts(),n.push(this),t.apply(this,n)},this}createOption(t,e){return new d(t,e)}_callParseArg(t,e,r,n){try{return t.parseArg(e,r)}catch(t){if("commander.invalidArgument"===t.code){const e=`${n} ${t.message}`;this.error(e,{exitCode:t.exitCode,code:t.code})}throw t}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const r=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${r}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),r=e(t).find((t=>this._findCommand(t)));if(r){const n=e(this._findCommand(r)).join("|"),i=e(t).join("|");throw new Error(`cannot add command '${i}' as already have command '${n}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),r=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(r,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(r,t.defaultValue,"default");const n=(e,n,i)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const o=this.getOptionValue(r);null!==e&&t.parseArg?e=this._callParseArg(t,e,o,n):null!==e&&t.variadic&&(e=t._concatValue(e,o)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(r,e,i)};return this.on("option:"+e,(e=>{const r=`error: option '${t.flags}' argument '${e}' is invalid.`;n(e,r,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const r=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;n(e,r,"env")})),this}_optionEx(t,e,r,n,i){if("object"==typeof e&&e instanceof d)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const o=this.createOption(e,r);if(o.makeOptionMandatory(!!t.mandatory),"function"==typeof n)o.default(i).argParser(n);else if(n instanceof RegExp){const t=n;n=(e,r)=>{const n=t.exec(e);return n?n[0]:r},o.default(i).argParser(n)}else o.default(n);return this.addOption(o)}option(t,e,r,n){return this._optionEx({},t,e,r,n)}requiredOption(t,e,r,n){return this._optionEx({mandatory:!0},t,e,r,n)}combineFlagAndOptionalValue(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._allowUnknownOption=!!t,this}allowExcessArguments(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._allowExcessArguments=!!t,this}enablePositionalOptions(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._enablePositionalOptions=!!t,this}passThroughOptions(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,r){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=r,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((r=>{void 0!==r.getOptionValueSource(t)&&(e=r.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(e=e||{},void 0===t&&void 0===e.from){o.versions?.electron&&(e.from="electron");const t=o.execArgv??[];(t.includes("-e")||t.includes("--eval")||t.includes("-p")||t.includes("--print"))&&(e.from="eval")}let r;switch(void 0===t&&(t=o.argv),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],r=t.slice(2);break;case"electron":o.defaultApp?(this._scriptPath=t[1],r=t.slice(2)):r=t.slice(1);break;case"user":r=t.slice(0);break;case"eval":r=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",r}parse(t,e){this._prepareForParse();const r=this._prepareUserArgs(t,e);return this._parseCommand([],r),this}async parseAsync(t,e){this._prepareForParse();const r=this._prepareUserArgs(t,e);return await this._parseCommand([],r),this}_prepareForParse(){null===this._savedState?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error("Can not call parse again when storeOptionsAsProperties is true.\n- either make a new Command for each call to parse, or stop storing options as properties");this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(t,e,r){if(!i.existsSync(t))throw new Error(`'${t}' does not exist\n - if '${r}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e?`searched for local subcommand relative to directory '${e}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory"}`)}_executeSubCommand(t,r){r=r.slice();let s=!1;const a=[".js",".ts",".tsx",".mjs",".cjs"];function l(t,e){const r=n.resolve(t,e);if(i.existsSync(r))return r;if(a.includes(n.extname(e)))return;const o=a.find((t=>i.existsSync(`${r}${t}`)));return o?`${r}${o}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let u,h=t._executableFile||`${this._name}-${t._name}`,p=this._executableDir||"";if(this._scriptPath){let t;try{t=i.realpathSync(this._scriptPath)}catch{t=this._scriptPath}p=n.resolve(n.dirname(t),p)}if(p){let e=l(p,h);if(!e&&!t._executableFile&&this._scriptPath){const r=n.basename(this._scriptPath,n.extname(this._scriptPath));r!==this._name&&(e=l(p,`${r}-${t._name}`))}h=e||h}s=a.includes(n.extname(h)),"win32"!==o.platform?s?(r.unshift(h),r=w(o.execArgv).concat(r),u=e.spawn(o.argv[0],r,{stdio:"inherit"})):u=e.spawn(h,r,{stdio:"inherit"}):(this._checkForMissingExecutable(h,p,t._name),r.unshift(h),r=w(o.execArgv).concat(r),u=e.spawn(o.execPath,r,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{o.on(t,(()=>{!1===u.killed&&null===u.exitCode&&u.kill(t)}))}));const f=this._exitCallback;u.on("close",(t=>{t=t??1,f?f(new c(t,"commander.executeSubCommandAsync","(close)")):o.exit(t)})),u.on("error",(e=>{if("ENOENT"===e.code)this._checkForMissingExecutable(h,p,t._name);else if("EACCES"===e.code)throw new Error(`'${h}' not executable`);if(f){const t=new c(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,f(t)}else o.exit(1)})),this.runningCommand=u}_dispatchSubcommand(t,e,r){const n=this._findCommand(t);let i;return n||this.help({error:!0}),n._prepareForParse(),i=this._chainOrCallSubCommandHook(i,n,"preSubcommand"),i=this._chainOrCall(i,(()=>{if(!n._executableHandler)return n._parseCommand(e,r);this._executeSubCommand(n,e.concat(r))})),i}_dispatchHelpCommand(t){t||this.help();const e=this._findCommand(t);return e&&!e._executableHandler&&e.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,r)=>{let n=e;if(null!==e&&t.parseArg){const i=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;n=this._callParseArg(t,e,r,i)}return n};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((r,n)=>{let i=r.defaultValue;r.variadic?n<this.args.length?(i=this.args.slice(n),r.parseArg&&(i=i.reduce(((e,n)=>t(r,n,e)),r.defaultValue))):void 0===i&&(i=[]):n<this.args.length&&(i=this.args[n],r.parseArg&&(i=t(r,i,r.defaultValue))),e[n]=i})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let r=t;const n=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{n.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&n.reverse(),n.forEach((t=>{r=this._chainOrCall(r,(()=>t.callback(t.hookedCommand,this)))})),r}_chainOrCallSubCommandHook(t,e,r){let n=t;return void 0!==this._lifeCycleHooks[r]&&this._lifeCycleHooks[r].forEach((t=>{n=this._chainOrCall(n,(()=>t(this,e)))})),n}_parseCommand(t,e){const r=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(r.operands),e=r.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(r.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const n=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},i=`command:${this.name()}`;if(this._actionHandler){let r;return n(),this._processArguments(),r=this._chainOrCallHooks(r,"preAction"),r=this._chainOrCall(r,(()=>this._actionHandler(this.processedArgs))),this.parent&&(r=this._chainOrCall(r,(()=>{this.parent.emit(i,t,e)}))),r=this._chainOrCallHooks(r,"postAction"),r}if(this.parent&&this.parent.listenerCount(i))n(),this._processArguments(),this.parent.emit(i,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)})),e=t.filter((t=>t.conflictsWith.length>0));e.forEach((e=>{const r=t.find((t=>e.conflictsWith.includes(t.attributeName())));r&&this._conflictingOption(e,r)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],r=[];let n=e;const i=t.slice();function o(t){return t.length>1&&"-"===t[0]}let s=null;for(;i.length;){const t=i.shift();if("--"===t){n===r&&n.push(t),n.push(...i);break}if(!s||o(t)){if(s=null,o(t)){const e=this._findOption(t);if(e){if(e.required){const t=i.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;i.length>0&&!o(i[0])&&(t=i.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);s=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),i.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),r=this._findOption(t.slice(0,e));if(r&&(r.required||r.optional)){this.emit(`option:${r.name()}`,t.slice(e+1));continue}}if(o(t)&&(n=r),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===r.length){if(this._findCommand(t)){e.push(t),i.length>0&&r.push(...i);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),i.length>0&&e.push(...i);break}if(this._defaultCommandName){r.push(t),i.length>0&&r.push(...i);break}}if(this._passThroughOptions){n.push(t),i.length>0&&n.push(...i);break}n.push(t)}else this.emit(`option:${s.name()}`,t)}return{operands:e,unknown:r}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let r=0;r<e;r++){const e=this.options[r].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const r=e||{},n=r.exitCode||1,i=r.code||"commander.error";this._exit(n,i,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in o.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,o.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new g(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((r=>void 0!==r.implied&&e(r.attributeName())&&t.valueFromOption(this.getOptionValue(r.attributeName()),r))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const r=t=>{const e=t.attributeName(),r=this.getOptionValue(e),n=this.options.find((t=>t.negate&&e===t.attributeName())),i=this.options.find((t=>!t.negate&&e===t.attributeName()));return n&&(void 0===n.presetArg&&!1===r||void 0!==n.presetArg&&r===n.presetArg)?n:i||t},n=t=>{const e=r(t),n=e.attributeName();return"env"===this.getOptionValueSource(n)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},i=`error: ${n(t)} cannot be used with ${n(e)}`;this.error(i,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let r=[],n=this;do{const t=n.createHelp().visibleOptions(n).filter((t=>t.long)).map((t=>t.long));r=r.concat(t),n=n.parent}while(n&&!n._enablePositionalOptions);e=y(t,r)}const r=`error: unknown option '${t}'${e}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,r=1===e?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${r} but got ${t.length}.`;this.error(n,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const r=[];this.createHelp().visibleCommands(this).forEach((t=>{r.push(t.name()),t.alias()&&r.push(t.alias())})),e=y(t,r)}const r=`error: unknown command '${t}'${e}`;this.error(r,{code:"commander.unknownCommand"})}version(t,e,r){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",r=r||"output the version number";const n=this.createOption(e,r);return this._versionOptionName=n.attributeName(),this._registerOption(n),this.on("option:"+n.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){if(void 0===t)return this._aliases[0];let e=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(e=this.commands[this.commands.length-1]),t===e._name)throw new Error("Command alias can't be the same as its name");const r=this.parent?._findCommand(t);if(r){const e=[r.name()].concat(r.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return e._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>a(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=n.basename(t,n.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp(),r=this._getOutputContext(t);e.prepareContext({error:r.error,helpWidth:r.helpWidth,outputHasColors:r.hasColors});const n=e.formatHelp(this,e);return r.hasColors?n:this._outputConfiguration.stripColor(n)}_getOutputContext(t){const e=!!(t=t||{}).error;let r,n,i;return e?(r=t=>this._outputConfiguration.writeErr(t),n=this._outputConfiguration.getErrHasColors(),i=this._outputConfiguration.getErrHelpWidth()):(r=t=>this._outputConfiguration.writeOut(t),n=this._outputConfiguration.getOutHasColors(),i=this._outputConfiguration.getOutHelpWidth()),{error:e,write:t=>(n||(t=this._outputConfiguration.stripColor(t)),r(t)),hasColors:n,helpWidth:i}}outputHelp(t){let e;"function"==typeof t&&(e=t,t=void 0);const r=this._getOutputContext(t),n={error:r.error,write:r.write,command:this};this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",n))),this.emit("beforeHelp",n);let i=this.helpInformation({error:r.error});if(e&&(i=e(i),"string"!=typeof i&&!Buffer.isBuffer(i)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(i),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",n),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",n)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=Number(o.exitCode??0);0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const r=["beforeAll","before","after","afterAll"];if(!r.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${r.join("', '")}'`);const n=`${t}Help`;return this.on(n,(t=>{let r;r="function"==typeof e?e({error:t.error,command:t.command}):e,r&&t.write(`${r}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}}function w(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,r,n="127.0.0.1",i="9229";return null!==(r=t.match(/^(--inspect(-brk)?)$/))?e=r[1]:null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=r[1],/^\d+$/.test(r[3])?i=r[3]:n=r[3]):null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=r[1],n=r[3],i=r[4]),e&&"0"!==i?`${e}=${n}:${parseInt(i)+1}`:t}))}function v(){return!o.env.NO_COLOR&&"0"!==o.env.FORCE_COLOR&&"false"!==o.env.FORCE_COLOR&&(!(!o.env.FORCE_COLOR&&void 0===o.env.CLICOLOR_FORCE)||void 0)}return _n.Command=E,_n.useColor=v,_n}(),{CommanderError:n,InvalidArgumentError:i}=vn(),{Help:o}=bn(),{Option:s}=In();return yn.program=new e,yn.createCommand=t=>new e(t),yn.createOption=(t,e)=>new s(t,e),yn.createArgument=(e,r)=>new t(e,r),yn.Command=e,yn.Option=s,yn.Argument=t,yn.Help=o,yn.CommanderError=n,yn.InvalidArgumentError=i,yn.InvalidOptionArgumentError=i,yn}(),xn=g(Pn);const{program:Fn,createCommand:Dn,createArgument:jn,createOption:Hn,CommanderError:Vn,InvalidArgumentError:Mn,InvalidOptionArgumentError:Wn,Command:Gn,Argument:Un,Option:Xn,Help:Bn}=xn,qn=function(t){const e=function(t){return t.url?u(t.url):""}(t);return""!==e?l(e):""}(import.meta),Yn=r.resolve(qn,"../package.json"),Jn=Gr.readJsonSync(Yn),zn="16.20.2";function Kn(){return Fn.name(Object.keys(Jn.bin)[0]).usage("<command> [options]").option("-d, --debug","是否启动调试模式").hook("preAction",Zn),Fn.on("option:debug",(()=>{console.log(Fn.opts()),Fn.opts().debug&&console.log("debug 模式已启动")})),Fn}function Zn(){if(mn.lt(process.version,zn))throw new Error(chalk.red(`zhgit 需要安装 ${zn} 以上版本的 Node.js, 当前版本：${process.version}`))}!function(){const r=Kn();t(r),e(r),r.parse(process.argv)}(process.argv.slice(2));
